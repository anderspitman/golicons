<!doctype html>
<html>
  <head>
    <title>golicons</title>
    <link href="/lib/prism.css" rel="stylesheet" />
    <meta charset="utf-8"> 
    
    <template id='example-template'>
      <div><strong>Code:</strong></div>
      <pre><code class='listing language-markup'></code></pre>
      <div><strong>Result:</strong></div>
      <iframe class='iframe' ></iframe>
    </template>

    <template class='example' id='example-1'><!--<!doctype html>
<html lang='en'>
  <head>
    <meta charset="utf-8"> 
  </head>
  <body>
    <div class='goli goli-glider'></div>
    <script src='https://cdn.jsdelivr.net/npm/golicons@0.5.0/dist/golicons.min.js'></script>
    <script>
      golicons.start();
    </script>
  </body>
</html>--></template>

    <template class='example' id='example-2'><!--<!doctype html>
<html lang='en'>
  <head>
    <meta charset="utf-8"> 
    <style>
      .goli {
        width: 64px;
        height: 64px;
        clip-path: circle(40px at center);
      }

      .goli-live {
        fill: SteelBlue;
        stroke: SteelBlue;
        transition-duration: 0.25s;
      }

      .goli-dead {
        fill: Tomato;
        stroke: Tomato;
        transition-duration: 0.25s;
      }
    </style>
  </head>
  <body>

    <div class='goli goli-glider goli-start-delay-ms-500 goli-tick-ms-250'></div>

    <script src='https://cdn.jsdelivr.net/npm/golicons@0.5.0/dist/golicons.min.js'></script>
    <script>
      golicons.start();
    </script>
  </body>
</html>--></template>

    <template class='example' id='example-3'><!--<!doctype html>
<html lang='en'>
  <head>
    <meta charset="utf-8"> 
    <style>
      .goli {
        width: 128px;
        height: 93px;
      }
    </style>
  </head>
  <body>

    <div class='goli goli-my-awesome-tumbler goli-tick-ms-200'></div>

    <script src='https://cdn.jsdelivr.net/npm/golicons@0.5.0/dist/golicons.min.js'></script>
    <script>
      const patternStr = `
        00000000000
        00100000100
        01010001010
        01001010010
        00010001000
        00011011000
        00000000000
        00000000000
      `;

      golicons.registerPattern('my-awesome-tumbler', patternStr);

      golicons.start();
    </script>
  </body>
</html>--></template>

    <style>

      body {
        /*background-color: #eeeeee;*/
      }

      .heading {
        font-size: 50px;
        text-align: center;
      }

      .content {
        margin: 0 auto;
        font-family: Courier New, monospace;
        max-width: 900px;
        color: #111;
      }

      .content p {
        font-size: 20px;
        line-height: 1.5;
      }

      iframe {
        width: 100%;
        height: 256px;
      }

      .examples {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }

      #goliconator-container {
        width: 100%;
        background-color: #dedede;
      }

      #goliconator {
        width: 50%;
        margin: 0 auto;
      }

      .goli-goliconator .goli-dead {
        /*stroke: none;*/
      }

      .examples .goli {
        width: 48px;
        height: 48px;
        margin: 20px;
      }

      #top-example-1 .goli-live {
        fill: #da7376;
        stroke: #da7376;
      }
      #top-example-1 .goli-dead {
        fill: #78bc92;
        stroke: #78bc92;
      } 

      #top-example-2 .goli-live {
        fill: #e18546;
        stroke: #e18546;
      }
      #top-example-2 .goli-dead {
        fill: #2d2d2d;
        stroke: #2d2d2d;
      }


      #top-example-3 .goli-live {
        fill: #62c2c2;
        stroke: #62c2c2;
      }
      #top-example-3 .goli-dead {
        fill: #f1bf53;
        stroke: #f1bf53;
      } 

      #top-example-4 .goli-live {
        fill: #2d2d2d;
        stroke: #2d2d2d;
      }
      #top-example-4 .goli-dead {
        fill: #da7376;
        stroke: #da7376;
      }
    </style>
  </head>
  <body>
    <div class='content'>
      <!--
      <h1 class='heading' >GOLicons</h1>
      -->
      <div id='goliconator-container'>
        <div id='goliconator' class='goli goli-goliconator goli-tick-ms-1000 goli-start-delay-ms-2000'></div>
      </div>
      <p>
        <strong>golicons</strong> are SVG icons which are animated with
        JavaScript to simulate
        <a target='_blank'
            href='https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life'>
          Conway's Game of Life.
        </a>
        The code is open source (MIT) and available
        <a target='_blank'
            href='https://github.com/anderspitman/golicons'>
          on GitHub.
        </a>

      </p>
      <div class='examples'>
        <div id='top-example-1' class='goli goli-blinker goli-tick-ms-500'></div>
        <div id='top-example-2' class='goli goli-glider goli-tick-ms-500'></div>
        <div id='top-example-3' class='goli goli-toad goli-tick-ms-500'></div>
        <div id='top-example-4' class='goli goli-beacon goli-tick-ms-500'></div>
      </div>

      <ul>
        <li><a href='/#quickstart'>Quickstart</a></li>
        <li><a href='/#other-examples'>Other examples</a></li>
      </ul>

      <h1 id='quickstart'>Quickstart</h1>

      <p>
        Getting started is a piece of cake:
      </p>

      <div id='example-1-container'></div>

      <h1 id='other-examples'>Other examples</h1>

      <p>
        It's working, but the result is rather ugly and boring. You can style
        the icons using standard SVG CSS. There are also options that can be
        configured using CSS classes on the elements. All of these class names
        (listed below) are considered part of golicon's public API and can be
        expected to remain stable for each major version. Let's try to add a
        little CSS and configure a couple other options to make it more
        exciting:
      </p>

      <div id='example-2-container'></div>

      <p>
        That's a bit better. Chances are that you'll want to use some of your
        own patterns:
      </p>

      <div id='example-3-container'></div>

    </div>

    <!--
    <script src='https://cdn.jsdelivr.net/npm/golicons@0.5.0/dist/golicons.min.js'></script>
    -->
    <script src='/dist/golicons.min.js'></script>
    <script>

      // poor man's templating engine. This allows me to use the templates
      // in <head> as the source for both the syntax highlighted snippets and
      // the iframe. This was the examples will always be running the code
      // that is shown.
      const exampleTemplates = document.getElementsByClassName('example');
      const template = document.getElementById('example-template');
      for (const example of exampleTemplates) {
        const templateClone = document.importNode(template.content, true);
        const id = example.id;
        const listing = templateClone.querySelector('.listing');
        const iframe = templateClone.querySelector('.iframe');

        listing.innerHTML = example.innerHTML;
        const stripped = example.innerHTML.slice(4, example.innerHTML.length - 3);
        iframe.srcdoc = stripped;

        const container = document.getElementById(id + '-container');
        container.appendChild(templateClone);
      }

      const goliconsPattern = `
        0000000000000000000000000000000000000000
        0111101111010000111011110111101001011110
        0100101001010000010010010100101101010000
        0100001001010000010010000100101101011100
        0101101001010000010010000100101011000010
        0100101001010000010010010100101011000010
        0111101111011110111011110111101001011110
        0000000000000000000000000000000000000000
      `;

      const numRows = 8;
      const numCols = 40;
      const aspectRatio = numCols / numRows; 
      console.log(aspectRatio);

      const goliconatorEl = document.getElementById('goliconator');
      const dim = goliconatorEl.getBoundingClientRect();
      console.log(dim);
      goliconatorEl.style.height = ((1 / aspectRatio) * dim.width) + 'px';

      golicons.registerPattern('goliconator', goliconsPattern);

      console.log(golicons.version);
      golicons.start();

    </script>

    <!-- syntax highlighting -->
    <script src='/lib/prism.js'></script>

  </body>
</html>
